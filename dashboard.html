<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Noteblock</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg: #f0f2f5; --card: white; --text: #1a1a2e; --text2: #555; --muted: #888;
      --border: #e0e0e0; --border-light: #f0f0f0; --input-bg: white; --input-border: #ddd;
      --tab-bg: white; --tab-active: #2d3436; --tab-active-text: white;
      --btn-bg: #2d3436; --btn-hover: #636e72; --shadow: rgba(0,0,0,0.06);
      --dot: #27ae60; --bar-fill: #2d3436; --card-hover: rgba(0,0,0,0.06);
      --overlay: rgba(0,0,0,0.35); --dialog: white;
    }
    body.dark {
      --bg: #13131f; --card: #1e1e30; --text: #d8d8e8; --text2: #a0a0b8; --muted: #70708a;
      --border: #2e2e45; --border-light: #252540; --input-bg: #18182a; --input-border: #2e2e45;
      --tab-bg: #1e1e30; --tab-active: #3a3a5c; --tab-active-text: #e8e8f8;
      --btn-bg: #3a3a5c; --btn-hover: #50507a; --shadow: rgba(0,0,0,0.3);
      --dot: #2ecc71; --bar-fill: #5a5a8c; --card-hover: rgba(255,255,255,0.03);
      --overlay: rgba(0,0,0,0.6); --dialog: #252540;
    }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 32px; }
    h1 { font-size: 24px; font-weight: 700; margin-bottom: 24px; text-align: center; }
    a { color: var(--text2); }

    /* --- Tabs --- */
    .tabs { display: flex; gap: 4px; max-width: 1100px; margin: 0 auto 20px; background: var(--tab-bg); border-radius: 10px; padding: 4px; box-shadow: 0 2px 12px var(--shadow); }
    .sub-tabs { margin: 0 auto 16px; max-width: 700px; box-shadow: none; background: var(--input-bg); border-radius: 8px; padding: 3px; }
    .sub-tabs .tab-btn { font-size: 13px; padding: 8px; }
    .tab-btn { flex: 1; padding: 10px; border: none; background: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; color: var(--muted); transition: all 0.15s; }
    .tab-btn:hover { color: var(--text); }
    .tab-btn.active { background: var(--tab-active); color: var(--tab-active-text); }
    .tab-btn.tab-locked { color: var(--muted); cursor: not-allowed; opacity: 0.6; }
    .tab-btn.tab-locked:hover { color: var(--muted); }
    .tab-lock { display: inline-flex; align-items: center; gap: 3px; background: var(--border-light); border-radius: 10px; padding: 2px 8px; font-size: 11px; color: var(--muted); margin-left: 4px; vertical-align: middle; }
    .tab-lock-timer { font-variant-numeric: tabular-nums; }
    .tab-btn.tab-unlocked .tab-lock { display: none; }
    .tab-content, .sub-tab-content { display: none; }
    .tab-content.active, .sub-tab-content.active { display: block; }
    #subtab-blocklist.bl-locked { position: relative; }
    #subtab-blocklist.bl-locked::after {
      content: ''; position: absolute; inset: 0; z-index: 10;
      cursor: not-allowed;
    }
    #subtab-blocklist.bl-locked .card { opacity: 0.45; }
    #subtab-blocklist.bl-locked input,
    #subtab-blocklist.bl-locked button,
    #subtab-blocklist.bl-locked select,
    #subtab-blocklist.bl-locked textarea,
    #subtab-blocklist.bl-locked .bs-mini-toggle,
    #subtab-blocklist.bl-locked .bs-card-header { pointer-events: none; }
    #subtab-exceptions.ex-locked .ex-add-form { opacity: 0.45; pointer-events: none; }
    #subtab-exceptions.ex-locked .ex-remove { opacity: 0.45; pointer-events: none; }
    .tab-lock { cursor: pointer; }
    .tab-lock:hover { opacity: 0.7; }

    /* --- Cards & Grid --- */
    .grid { display: grid; grid-template-columns: 1fr 320px; gap: 24px; max-width: 1100px; margin: 0 auto; }
    .card { background: var(--card); border-radius: 14px; box-shadow: 0 2px 12px var(--shadow); padding: 24px; }
    .card h2 { font-size: 16px; font-weight: 600; margin-bottom: 16px; }
    .card h3 { font-size: 14px; font-weight: 600; margin-bottom: 8px; }

    /* --- Calendar --- */
    .cal-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
    .cal-nav button { background: none; border: 1px solid var(--border); border-radius: 6px; padding: 4px 12px; cursor: pointer; font-size: 12px; color: var(--text); }
    .cal-nav button:hover { background: var(--border-light); }
    #monthLabel { font-weight: 600; }
    .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; }
    .cal-header { text-align: center; font-size: 11px; font-weight: 600; color: var(--muted); padding: 4px; }
    .cal-day { text-align: center; padding: 8px 4px; border-radius: 8px; font-size: 13px; cursor: pointer; position: relative; min-height: 48px; }
    .cal-day:hover { background: var(--border-light); }
    .cal-day.empty { cursor: default; }
    .cal-day.empty:hover { background: none; }
    .cal-day.today { font-weight: 700; }
    .cal-day.selected { background: var(--tab-active); color: var(--tab-active-text); }
    .cal-day.selected .day-time { color: #ffd700; }
    .cal-day.streak { background: var(--dot); color: white; }
    .cal-day.streak .dot { background: white; }
    .cal-day.streak .day-time { color: rgba(255,255,255,0.8); }
    .cal-day.streak.selected { background: #1e8449; }
    .cal-day.future { opacity: 0.3; pointer-events: none; }
    .dot { width: 4px; height: 4px; border-radius: 50%; background: var(--dot); margin: 2px auto 0; }
    .day-time { font-size: 9px; color: var(--muted); margin-top: 1px; }
    .no-data { color: var(--muted); font-size: 13px; text-align: center; padding: 16px; }

    /* --- Time bars --- */
    .time-bar-row { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .time-bar-label { width: 100px; font-size: 12px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .time-bar-track { flex: 1; height: 8px; background: var(--border-light); border-radius: 4px; overflow: hidden; }
    .time-bar-fill { height: 100%; background: var(--bar-fill); border-radius: 4px; }
    .time-bar-value { width: 60px; text-align: right; font-size: 11px; color: var(--muted); }

    /* --- Leaderboard --- */
    .lb-item { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border-light); gap: 12px; }
    .lb-item:last-child { border: none; }
    .lb-rank { width: 24px; height: 24px; border-radius: 50%; background: var(--border-light); display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 700; color: var(--muted); flex-shrink: 0; }
    .lb-rank.gold { background: #f9e547; color: #1a1a2e; }
    .lb-rank.silver { background: #c0c0c0; color: #1a1a2e; }
    .lb-rank.bronze { background: #cd7f32; color: white; }
    .lb-info { flex: 1; min-width: 0; }
    .lb-name { font-size: 13px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .lb-time { font-size: 11px; color: var(--muted); }
    .lb-bar { width: 60px; height: 6px; background: var(--border-light); border-radius: 3px; overflow: hidden; flex-shrink: 0; }
    .lb-bar-fill { height: 100%; background: var(--bar-fill); border-radius: 3px; }
    .lb-empty { color: var(--muted); font-size: 13px; text-align: center; padding: 20px; }

    .lb-tabs { display: flex; gap: 2px; margin-bottom: 12px; background: var(--border-light); border-radius: 8px; padding: 2px; }
    .lb-tab { flex: 1; padding: 6px; border: none; background: none; border-radius: 6px; font-size: 12px; font-weight: 500; cursor: pointer; color: var(--muted); transition: all 0.15s; }
    .lb-tab:hover { color: var(--text); }
    .lb-tab.active { background: var(--tab-active); color: var(--tab-active-text); }
    .claude-corner-card { border: 1px solid var(--border); box-shadow: none; }

    /* --- Journal entries --- */
    .journal-entry { background: var(--border-light); border-radius: 10px; padding: 12px; margin-bottom: 8px; }
    .journal-entry .je-header { display: flex; justify-content: space-between; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    .journal-entry .je-site { font-weight: 600; color: var(--text); }
    .journal-entry .je-text { font-size: 13px; line-height: 1.6; white-space: pre-wrap; }

    /* --- Streak bar --- */
    .streak-bar { margin-top: 14px; padding-top: 12px; border-top: 1px solid var(--border-light); text-align: center; }
    .streak-begin { background: var(--dot); color: white; border: none; border-radius: 8px; padding: 8px 20px; font-size: 13px; font-weight: 500; cursor: pointer; }
    .streak-begin:hover { background: #1e8449; }
    .streak-active { font-size: 13px; color: var(--dot); font-weight: 600; }
    .streak-hint { font-size: 11px; color: var(--muted); margin-top: 4px; }
    .streak-end { background: #e74c3c; color: white; border: none; border-radius: 8px; padding: 8px 20px; font-size: 13px; font-weight: 500; cursor: pointer; margin-top: 8px; }
    .streak-end:hover { background: #c0392b; }
    .streak-btn { background: none; border: 1px solid var(--border); border-radius: 10px; padding: 8px 20px; font-size: 13px; font-weight: 500; cursor: pointer; color: var(--text2); }
    .streak-btn:hover { border-color: var(--muted); color: var(--text); }
    .streak-subtitle { font-size: 12px; color: var(--muted); margin-top: 2px; }

    /* --- Blocklist --- */
    .bs-add-form { display: flex; gap: 8px; margin-bottom: 20px; }
    .bs-add-form input { border: 1px solid var(--input-border); border-radius: 8px; padding: 10px 12px; font-size: 14px; outline: none; background: var(--input-bg); color: var(--text); }
    .bs-add-form input:focus { border-color: var(--muted); }
    .bs-add-form .bs-host { flex: 1; }
    .bs-add-form button, .ex-add-form button { background: var(--btn-bg); color: var(--tab-active-text); border: none; border-radius: 8px; padding: 10px 18px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .bs-add-form button:hover, .ex-add-form button:hover { background: var(--btn-hover); }
    .bs-card { border: 1px solid var(--border); border-radius: 12px; padding: 12px 16px; margin-bottom: 8px; }
    .bs-card:hover { box-shadow: 0 2px 8px var(--card-hover); }
    .bs-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; cursor: pointer; }
    .bs-card.collapsed .bs-card-header { margin-bottom: 0; }
    .bs-card-host { font-size: 14px; font-weight: 600; }
    .bs-card-actions { display: flex; align-items: center; gap: 8px; }
    .bs-card-chevron { font-size: 14px; color: var(--muted); transition: transform 0.2s; display: inline-block; }
    .bs-card:not(.collapsed) .bs-card-chevron { transform: rotate(90deg); }
    .bs-card-body { overflow: hidden; max-height: 200px; transition: max-height 0.25s ease; }
    .bs-card.collapsed .bs-card-body { max-height: 0; }
    .bs-card-remove { background: none; border: 1px solid var(--border); border-radius: 6px; padding: 3px 8px; font-size: 11px; cursor: pointer; color: var(--muted); }
    .bs-card-remove:hover { border-color: #e74c3c; color: #e74c3c; }
    .bs-card-rows { display: flex; flex-direction: column; gap: 6px; }
    .bs-card-row { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text2); }
    .bs-card-row label { width: 90px; flex-shrink: 0; font-weight: 500; }
    .bs-card-input { width: 50px; text-align: center; border: 1px solid var(--input-border); border-radius: 6px; padding: 4px; font-size: 12px; outline: none; background: var(--input-bg); color: var(--text); }
    .bs-card-input:focus { border-color: var(--muted); }
    .bs-card-input:disabled { opacity: 0.4; }
    .bs-mini-toggle { width: 32px; height: 18px; border-radius: 9px; background: #777; cursor: pointer; position: relative; transition: background 0.2s; flex-shrink: 0; }
    .bs-mini-toggle.on { background: var(--dot); }
    .bs-mini-toggle-knob { width: 14px; height: 14px; border-radius: 50%; background: white; position: absolute; top: 2px; left: 2px; transition: left 0.2s; box-shadow: 0 1px 2px rgba(0,0,0,0.2); }
    .bs-mini-toggle.on .bs-mini-toggle-knob { left: 16px; }
    .bs-card-row .unit { color: var(--muted); font-size: 11px; }
    .bs-card.hard-blocked .bs-card-host { color: #e74c3c; }
    .bs-empty { color: var(--muted); font-size: 14px; text-align: center; padding: 32px; }
    .bs-toolbar { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; padding-bottom: 10px; border-bottom: 1px solid var(--border-light); }
    .bs-toolbar-left, .bs-toolbar-right { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text2); }
    .bs-toolbar-select { border: 1px solid var(--input-border); border-radius: 6px; padding: 4px 8px; font-size: 12px; outline: none; background: var(--input-bg); color: var(--text); }

    /* --- Exceptions --- */
    .ex-desc { font-size: 13px; color: var(--muted); margin-bottom: 16px; }
    .ex-add-form { display: flex; gap: 8px; margin-bottom: 16px; }
    .ex-input { flex: 1; border: 1px solid var(--input-border); border-radius: 8px; padding: 10px 12px; font-size: 14px; outline: none; background: var(--input-bg); color: var(--text); }
    .ex-input:focus { border-color: var(--muted); }
    .ex-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border-light); font-size: 14px; }
    .ex-item:last-child { border: none; }
    .ex-item-path { font-weight: 500; font-family: monospace; font-size: 13px; }
    .ex-remove { background: none; border: 1px solid var(--border); border-radius: 6px; padding: 3px 8px; font-size: 11px; cursor: pointer; color: var(--muted); }
    .ex-remove:hover { border-color: #e74c3c; color: #e74c3c; }
    .ex-empty { color: var(--muted); font-size: 13px; text-align: center; padding: 24px; }

    /* --- Options --- */
    .opt-section { max-width: 700px; margin: 0 auto 12px; }
    .opt-card { background: var(--card); border-radius: 14px; box-shadow: 0 2px 12px var(--shadow); padding: 20px 24px; margin-bottom: 12px; }
    .opt-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
    .opt-row + .opt-row { margin-top: 10px; }
    .opt-row strong { font-size: 14px; display: block; }
    .opt-row .opt-desc { font-size: 12px; color: var(--muted); }
    .opt-right { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }
    .opt-input { width: 52px; text-align: center; border: 1px solid var(--input-border); border-radius: 6px; padding: 5px; font-size: 13px; outline: none; background: var(--input-bg); color: var(--text); }
    .opt-input:focus { border-color: var(--muted); }
    .opt-input:disabled { opacity: 0.4; }
    .opt-input.wide { width: 100%; text-align: left; padding: 8px; font-size: 13px; }
    .opt-unit { font-size: 12px; color: var(--muted); }
    .opt-locked { opacity: 0.4; pointer-events: none; }
    .ie-btn { background: none; border: 1px solid var(--border); border-radius: 6px; padding: 6px 14px; font-size: 12px; font-weight: 500; cursor: pointer; color: var(--text2); }
    .ie-btn:hover { border-color: var(--muted); color: var(--text); }

    /* --- Overlays --- */
    .overlay { display: none; position: fixed; inset: 0; background: var(--overlay); z-index: 3000; align-items: center; justify-content: center; }
    .overlay.visible { display: flex; }
    .overlay-dialog { background: var(--dialog); border-radius: 14px; padding: 28px 36px; text-align: center; box-shadow: 0 12px 40px rgba(0,0,0,0.2); animation: pop 0.25s ease; max-width: 380px; }
    @keyframes pop { from { transform: scale(0.85); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .overlay-dialog p { font-size: 16px; font-weight: 600; margin-bottom: 20px; }
    .overlay-dialog .overlay-sub { font-size: 13px; font-weight: 400; color: var(--muted); margin-top: -12px; margin-bottom: 20px; }
    .overlay-btns { display: flex; gap: 8px; justify-content: center; }
    .overlay-btn { border: none; border-radius: 10px; padding: 10px 24px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .overlay-btn-primary { background: var(--btn-bg); color: var(--tab-active-text); }
    .overlay-btn-primary:hover { background: var(--btn-hover); }
    .overlay-btn-cancel { background: var(--border-light); color: var(--text); }
    .overlay-btn-cancel:hover { opacity: 0.8; }
    .overlay-btn-danger { background: #e74c3c; color: white; }
    .overlay-btn-danger:hover { background: #c0392b; }

    /* --- Binge overlay --- */
    .binge-overlay { position: fixed; inset: 0; background: var(--overlay); z-index: 4000; display: flex; align-items: center; justify-content: center; animation: fadeIn 0.3s ease; }
    .binge-overlay.hidden { display: none; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .binge-dialog { text-align: center; animation: pop 0.4s ease; }
    .binge-number { font-size: 80px; font-weight: 800; color: white; line-height: 1; margin-bottom: 8px; }
    .binge-label { font-size: 20px; color: rgba(255,255,255,0.8); margin-bottom: 24px; }
    .binge-dismiss { background: rgba(255,255,255,0.15); color: white; border: 1px solid rgba(255,255,255,0.3); border-radius: 12px; padding: 12px 32px; font-size: 16px; cursor: pointer; }
    .binge-dismiss:hover { background: rgba(255,255,255,0.25); }
    .confetti-canvas { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }
  </style>
</head>
<body class="dark">
  <h1>ü™∑ Noteblock</h1>
  <div class="tabs" id="mainTabs">
    <button class="tab-btn active" data-tab="activity">Activity</button>
    <button class="tab-btn" data-tab="lists">Lists <span class="tab-lock" id="listsTabLock" title="Click to begin unlock">üîí <span class="tab-lock-timer" data-lock="lists">3:00</span></span></button>
    <button class="tab-btn" data-tab="options">Options <span class="tab-lock" style="display:none">üîí <span class="tab-lock-timer" data-lock="options">0:00</span></span></button>
  </div>

  <!-- ACTIVITY -->
  <div class="tab-content active" id="tab-activity">
    <div class="grid">
      <div>
        <div class="card">
          <h2>Calendar</h2>
          <div class="cal-nav">
            <button id="prevMonth">‚Üê Prev</button>
            <span id="monthLabel"></span>
            <button id="nextMonth">Next ‚Üí</button>
          </div>
          <div class="cal-grid" id="calGrid"></div>
          <div class="streak-bar" id="streakBar"></div>
        </div>
        <div class="card" id="dayDetail" style="margin-top:20px;">
          <h3 id="dayDetailTitle">Select a day</h3>
          <div id="dayDetailContent"><div class="no-data">Click a day on the calendar to view details.</div></div>
        </div>
      </div>
      <div style="align-self:start;">
        <div class="card claude-corner-card" style="margin-bottom:16px;">
          <div style="font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:10px;">Claude Corner</div>
          <canvas id="claudeCanvas" width="64" height="64" style="float:left;margin-right:14px;margin-bottom:4px;border-radius:8px;"></canvas>
          <div id="claudeThought" style="font-size:13px;line-height:1.7;color:var(--text2);font-style:italic;min-height:64px;display:flex;align-items:center;"></div>
          <div style="clear:both;"></div>
        </div>
        <div class="card">
          <div class="lb-tabs">
            <button class="lb-tab active" data-range="day">Day</button>
            <button class="lb-tab" data-range="month">Month</button>
            <button class="lb-tab" data-range="year">Year</button>
          </div>
          <h2 id="lbHeading">Leaderboard</h2>
          <div id="leaderboard"><div class="lb-empty">No data yet.</div></div>
        </div>
      </div>
    </div>
    <div style="max-width:700px;margin:12px auto 0;text-align:center;">
      <button class="streak-btn" id="streakBtn">üèÜ View streak</button>
    </div>
  </div>

  <!-- LISTS (locked) -->
  <div class="tab-content" id="tab-lists">
    <div class="tabs sub-tabs" id="subTabs">
      <button class="tab-btn active" data-subtab="blocklist">Blocklist</button>
      <button class="tab-btn" data-subtab="exceptions">Exceptions</button>
    </div>
    <div class="sub-tab-content active" id="subtab-blocklist">
      <div class="card" style="max-width:700px;margin:0 auto;">
        <h2>Blocklist</h2>
        <div class="bs-add-form">
          <input type="text" class="bs-host" id="bsHostname" placeholder="e.g. reddit.com or reddit.com/r/gaming">
          <button id="bsAddBtn">Add</button>
        </div>
        <div class="bs-toolbar">
          <div class="bs-toolbar-left">
            <label>Sort:</label>
            <select id="bsSort" class="bs-toolbar-select">
              <option value="journal">Journal first</option>
              <option value="hardblock">Hard block first</option>
              <option value="time">Time</option>
            </select>
          </div>
          <div class="bs-toolbar-right">
            <label>Confirm remove</label>
            <div class="bs-mini-toggle on" id="bsConfirmToggle"><div class="bs-mini-toggle-knob"></div></div>
          </div>
        </div>
        <div id="bsSiteList"></div>
      </div>
    </div>
    <div class="sub-tab-content" id="subtab-exceptions">
      <div class="card" style="max-width:700px;margin:0 auto;">
        <h2>Exceptions</h2>
        <p class="ex-desc">Subdomains or paths that won't be blocked, even if their parent site is on the blocklist.</p>
        <div class="ex-add-form">
          <input type="text" class="ex-input" id="exInput" placeholder="e.g. old.reddit.com or reddit.com/r/programming">
          <button id="exAddBtn">Add</button>
        </div>
        <div id="exList"></div>
      </div>
    </div>
  </div>

  <!-- OPTIONS -->
  <div class="tab-content" id="tab-options">
    <div class="opt-section">
      <div class="opt-card">
        <div class="opt-row">
          <div><strong>Dark mode</strong></div>
          <div class="opt-right">
            <div class="bs-mini-toggle on" id="darkToggle"><div class="bs-mini-toggle-knob"></div></div>
          </div>
        </div>
      </div>
      <div class="opt-card">
        <div class="opt-row">
          <div><strong>Options lock time</strong><span class="opt-desc">Wait before accessing Options</span></div>
          <div class="opt-right">
            <input type="number" class="opt-input" id="optLockMin" min="0" value="0">
            <span class="opt-unit">min</span>
          </div>
        </div>
        <div class="opt-row" id="listsLockRow">
          <div><strong>Lists lock time</strong><span class="opt-desc">Wait before accessing Blocklist & Exceptions</span></div>
          <div class="opt-right">
            <span class="tab-lock" id="listsLockBubble" title="Click to begin unlock">üîí <span class="tab-lock-timer" id="listsLockBubbleTimer">3:00</span></span>
            <input type="number" class="opt-input" id="listsLockMin" min="0" value="3" disabled>
            <span class="opt-unit">min</span>
          </div>
        </div>
        <div class="opt-row">
          <div><strong>Interruption frequency</strong><span class="opt-desc">Time between "are you sure?" prompts (0 to disable)</span></div>
          <div class="opt-right">
            <input type="number" class="opt-input" id="interruptFreqMin" min="0" value="1">
            <span class="opt-unit">min</span>
            <input type="number" class="opt-input" id="interruptFreqSec" min="0" max="59" value="0">
            <span class="opt-unit">sec</span>
          </div>
        </div>
      </div>
      <div class="opt-card">
        <div class="opt-row">
          <div><strong>Default journal time</strong></div>
          <div class="opt-right">
            <input type="number" class="opt-input" id="defaultJournalMin" min="0" value="5">
            <span class="opt-unit">min</span>
            <input type="number" class="opt-input" id="defaultJournalSec" min="0" max="59" value="0">
            <span class="opt-unit">sec</span>
          </div>
        </div>
        <div class="opt-row">
          <div><strong>Default rejournal time</strong></div>
          <div class="opt-right">
            <input type="number" class="opt-input" id="defaultRejMin" min="0" value="15">
            <span class="opt-unit">min</span>
            <input type="number" class="opt-input" id="defaultRejSec" min="0" max="59" value="0">
            <span class="opt-unit">sec</span>
          </div>
        </div>
      </div>
      <div class="opt-card">
        <div class="opt-row">
          <div><strong>Streak subtitle</strong><span class="opt-desc">Shown under the streak count</span></div>
          <div class="opt-right" style="flex:1;max-width:200px;">
            <input type="text" class="opt-input wide" id="streakSubtitle" value="üèÜ">
          </div>
        </div>
      </div>
      <div class="opt-card">
        <div class="opt-row"><div><strong>Custom messages</strong></div></div>
        <div class="opt-row">
          <div style="width:140px;flex-shrink:0"><span class="opt-desc">Lock interruption</span></div>
          <div class="opt-right" style="flex:1;">
            <input type="text" class="opt-input wide" id="msgInterrupt" value="Are you sure you want to do this?">
          </div>
        </div>
        <div class="opt-row">
          <div style="width:140px;flex-shrink:0"><span class="opt-desc">Streak end</span></div>
          <div class="opt-right" style="flex:1;">
            <input type="text" class="opt-input wide" id="msgStreakEnd" value="End your streak here?">
          </div>
        </div>
        <div class="opt-row">
          <div style="width:140px;flex-shrink:0"><span class="opt-desc">Remove site</span></div>
          <div class="opt-right" style="flex:1;">
            <input type="text" class="opt-input wide" id="msgRemoveSite" value="Remove {site} from the blocklist?">
          </div>
        </div>
        <div class="opt-row">
          <div style="width:140px;flex-shrink:0"><span class="opt-desc">Journal heading</span></div>
          <div class="opt-right" style="flex:1;">
            <input type="text" class="opt-input wide" id="msgJournalHeading" value="Hold on.">
          </div>
        </div>
        <div class="opt-row">
          <div style="width:140px;flex-shrink:0"><span class="opt-desc">Journal prompt</span></div>
          <div class="opt-right" style="flex:1;">
            <input type="text" class="opt-input wide" id="msgJournalPrompt" value="Why are you going there? What do you intend to do?">
          </div>
        </div>
      </div>
      <div class="opt-card">
        <div class="opt-row">
          <div><strong>Import / Export</strong><span class="opt-desc">Backup or restore your data</span></div>
          <div class="opt-right">
            <button class="ie-btn" id="exportBtn">Export</button>
            <button class="ie-btn" id="importBtn">Import</button>
            <input type="file" id="importFile" accept=".json" style="display:none;">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- OVERLAYS -->
  <div class="overlay" id="interruptOverlay">
    <div class="overlay-dialog">
      <p id="interruptText">Are you sure you want to do this?</p>
      <div class="overlay-btns">
        <button id="interruptYes" class="overlay-btn overlay-btn-primary">Yes, keep waiting</button>
      </div>
    </div>
  </div>
  <div class="overlay" id="streakEndOverlay">
    <div class="overlay-dialog">
      <p id="streakEndText">End your streak here?</p>
      <p class="overlay-sub" id="streakEndDate"></p>
      <div class="overlay-btns">
        <button id="streakEndCancel" class="overlay-btn overlay-btn-cancel">Cancel</button>
        <button id="streakEndConfirm" class="overlay-btn overlay-btn-danger">End streak</button>
      </div>
    </div>
  </div>
  <div class="overlay" id="removeOverlay">
    <div class="overlay-dialog">
      <p id="removeText">Remove this site?</p>
      <div class="overlay-btns">
        <button id="removeCancel" class="overlay-btn overlay-btn-cancel">Cancel</button>
        <button id="removeConfirm" class="overlay-btn overlay-btn-danger">Remove</button>
      </div>
    </div>
  </div>
  <div class="overlay" id="exRemoveOverlay">
    <div class="overlay-dialog">
      <p id="exRemoveText">Remove this exception?</p>
      <div class="overlay-btns">
        <button id="exRemoveCancel" class="overlay-btn overlay-btn-cancel">Cancel</button>
        <button id="exRemoveConfirm" class="overlay-btn overlay-btn-danger">Remove</button>
      </div>
    </div>
  </div>
  <div class="binge-overlay hidden" id="bingeOverlay">
    <canvas class="confetti-canvas" id="confettiCanvas"></canvas>
    <div class="binge-dialog">
      <div class="binge-number" id="bingeCount">0</div>
      <div class="binge-label">days streak</div>
      <div class="streak-subtitle" id="streakSubDisplay">üèÜ</div>
      <button class="binge-dismiss" id="bingeDismiss" style="margin-top:16px;">Continue</button>
    </div>
  </div>
  <script src="dashboard.js"></script>
</body>
</html>
